datasource bluconnect {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Trip {
  id        Int        @id @default(autoincrement())
  code      String     @unique
  busRoutes BusRoute[] @relation("OriginBusRoutes")

  TralvelSchedules TravelSchedule[]
}

model BusStop {
  id             Int        @id @default(autoincrement())
  name           String     @unique
  latitude       Float
  longitude      Float
  busRoutesStart BusRoute[] @relation("StartBusStop")
  busRoutesEnd   BusRoute[] @relation("EndBusStop")
}

model BusRoute {
  id             Int     @id @default(autoincrement())
  index          Int
  trip           Trip    @relation("OriginBusRoutes", fields: [tripId], references: [id], onDelete: Cascade)
  tripId         Int
  startBusStop   BusStop @relation("StartBusStop", fields: [startBusStopId], references: [id], onDelete: Cascade)
  startBusStopId Int
  endBusStop     BusStop @relation("EndBusStop", fields: [endBusStopId], references: [id], onDelete: Cascade)
  endBusStopId   Int
}

model TravelSchedule {
  id        Int     @id @default(autoincrement())
  time      Int
  trip      Trip    @relation(fields: [tripId], references: [id], onDelete: Cascade)
  tripId    Int
  monday    Boolean @default(false)
  tuesday   Boolean @default(false)
  wednesday Boolean @default(false)
  thursday  Boolean @default(false)
  friday    Boolean @default(false)
  saturday  Boolean @default(false)
  sunday    Boolean @default(false)
}
